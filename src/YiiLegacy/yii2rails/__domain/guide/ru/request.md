Обработка запроса
========

Структура:

* клиент делает запрос
* роутер направляет клиента на контроллер
* контроллер
    * собирает данные запроса
    * вызывает метод сервиса
    * сервис
        * проводит аутентификацию
        * обратывает параметры
        * берет данные из репозиториев (хранилищ)
        * репозиторий
            * формирует запрос
            * получает данные
            * возвращает сущность/коллекцию, либо исключение
        * обрабатывает данные
        * возвращает сущность/коллекцию, либо исключение
    * получает данные из сервиса
    * обрабатывает исключения, если они есть
    * передает данные в представление
    * представление
        * определяет формат вывода
        * формирует контент
        * возвращает контент
    * получает контент из представления
    * отдает контент клиенту
* клиент получает ответ

Цепочка запроса:

    пользователь->роутер->контроллер->сервис->репозиторий->БД
    
Цепочка ответа:

    пользователь<-представление<-контроллер<-сервис<-репозиторий<-БД
