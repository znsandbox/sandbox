Лайфхаки
========

## Кеширование данных

* прокси между сервисом и драйвером хранилища
* прокси над сервисом, имеющий идентичный интерфейс

## Кастомизация

Кастомизировать сервис, не ломая старый сервис:

* расширить старый сервис
* объявить в конфигурации имя нового класса

переназначить класс сущности можно 2 способами: 

* прописать в разделе конфига домена параметр `container`
* переопределить метод `forgeEntity` у хранилища

## Легковесность

Создать CRUD сервис и хранилище, не создавая их классов можно, определив конфиг домена таким образом:

```php
[
	'repositories' => [
		'article' => [
			'class' => ActiveDiscRepository::class,
			'table' => 'article'
		]
	],
	'services' => [
		'article' => ActiveBaseService::class,
	],
]
```

## Загрузка классов из сторонних пакетов

В конфиге доменов назначаем пути в сегменте `container`:

```php
'profile' => [
		'class' => Domain::class,
		'path' => 'yii2module\profile\domain',
		'container' => [
				'yii2module\profile\domain\repositories\tps\IinRepository' => 'yii2module\example\domain\profile\repositories\tps\IinRepository',
		],
		...
],
```

Ключ - это класс по умолчанию, но так как мы хотим брать класс из другого места, в значении указываем целевой класс.
